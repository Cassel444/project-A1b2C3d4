import{A as C,a as M,i as O,S as v,N as y,M as w,K as E}from"./assets/vendor-595f3b56.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const P=document.querySelector(".backdrop"),k=document.querySelector(".open-menu-btn"),N=document.querySelector(".modal-close-btn"),V=document.querySelector(".navi-modal-wrapper"),A=document.querySelector(".navi"),H=document.querySelector(".menu"),R=document.querySelector(".nav-wrapper");k.addEventListener("click",b);N.addEventListener("click",b);V.addEventListener("click",b);H.addEventListener("click",q);R.addEventListener("click",q);function b(){P.classList.toggle("is-open")}function q(){A.classList.toggle("is-open")}document.addEventListener("DOMContentLoaded",function(){new C(".about-accordion-container",{duration:500,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[0],elementClass:"about-ac",triggerClass:"about-ac-trigger",panelClass:"about-ac-panel",activeClass:"about-is-active",beforeOpen:e=>{console.log("Перед відкриттям:",e)},onOpen:e=>{console.log("Відкрито:",e)},beforeClose:e=>{console.log("Перед закриттям:",e)},onClose:e=>{console.log("Закрито:",e)}})});const f=document.getElementById("covers-section"),T=f.querySelector(".cover-list");T.style.display="none";function W(e,t){let n=new Set;for(;n.size<t;)n.add(Math.floor(Math.random()*e));return Array.from(n)}function B(){const e=f.querySelectorAll(".cover-list-item"),t=document.createElement("div");t.className="gallery-wrapper";const n=document.createElement("div");n.className="gallery-box";const a=document.createElement("div");a.id="gallery";const o=[];for(let i=0;i<5;i++){const r=document.createElement("div");r.className="gallery-row",W(e.length,9).forEach(g=>{const I=e[g].cloneNode(!0);r.appendChild(I)}),o.push(r),a.appendChild(r)}o.forEach(i=>{i.classList.add("animate-right")}),n.appendChild(a),t.appendChild(n),f.appendChild(t);function s(i){const r=i.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth)}function l(){s(f)&&m()}l(),window.addEventListener("scroll",l);function m(){o.forEach(i=>{i.style.animationPlayState="running",i.addEventListener("animationend",()=>{i.style.animationPlayState="paused",i.style.transform="translateX(0)";const r=i.querySelector(".cover-list-item:first-child");r.offsetLeft+r.offsetWidth<0&&(i.appendChild(r.cloneNode(!0)),i.removeChild(r))})})}}B();document.addEventListener("DOMContentLoaded",function(){new C(".faq-list",{showMultiple:!1,toggleElements:!0,duration:500})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".ac-header").forEach(t=>{t.addEventListener("click",function(){const n=this.nextElementSibling,a=this.querySelector(".menu-icon");a&&(n.style.maxHeight!==""?a.classList.remove("menu-icon--open"):a.classList.add("menu-icon--open")),n.style.maxHeight=n.scrollHeight+"px",document.querySelectorAll(".ac-panel").forEach(s=>{if(s!==n){s.style.maxHeight=null;const l=s.previousElementSibling.querySelector(".menu-icon");l&&l.classList.remove("menu-icon--open")}})})})});const j="https://portfolio-js.b.goit.study/api/reviews",x=document.querySelector(".reviews-list");async function D(){try{const e=await M.get(j);if(e.data.length===0)throw new Error("No reviews to display");return e.data}catch(e){throw O.error({title:"Error",message:"Failed to fetch reviews. Please try again later.",position:"topRight"}),console.error("Failed to fetch reviews:",e),e}}function $(){return new v(".swiper-reviews",{modules:[y,w,E],direction:"horizontal",slidesPerView:1,spaceBetween:16,keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:{invert:!1},navigation:{nextEl:".right-btn",prevEl:".left-btn"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}}})}async function F(){try{const t=(await D()).map(({_id:n,avatar_url:a,author:o,review:s})=>`
      <li class='reviews-item swiper-slide' id='${n}'>
        <img class='reviews-photo' src='${a}' alt='photo of ${o}'>
        <h3 class='reviews-author-name'>${o}</h3>
        <p class='author-review'>${s}</p>
      </li>
    `).join("");x.insertAdjacentHTML("beforeend",t),$()}catch(e){x.textContent="Not found",console.error("Error in renderReviews:",e.message)}}F();function z(){return new v(".mySwiper",{modules:[y,w,E],direction:"horizontal",speed:500,spaceBetween:50,slidesPerView:"auto",allowTouchMove:!0,navigation:{nextEl:".swiper-btn-right",prevEl:".swiper-btn-left"},mousewheel:{invert:!1},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0}})}z();const c=new v(".skills-container",{modules:[y,w,E],direction:"horizontal",loop:!0,slidesPerView:"auto",speed:500,grabCursor:!0,allowTouchMove:!0,navigation:{nextEl:".btn-slide-right"},mousewheel:{invert:!1},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}},on:{init:function(){const e=this.activeIndex;this.slides.forEach((t,n)=>{n===e?t.classList.add("red"):t.classList.remove("red")})},slideChange:function(){const e=this.activeIndex;this.slides.forEach((t,n)=>{n===e?t.classList.add("red"):t.classList.remove("red")})}}}),U=document.querySelector(".btn-slide-right");U.addEventListener("click",function(){const e=c.slides.filter(n=>n.isVisible);c.isEnd&&e.length===c.slides.length||e.length===c.slides.lengthVisible?c.slideTo(0):c.slideNext()});const L="feedback-form-state",X="https://portfolio-js.b.goit.study/api/requests",u=document.querySelector(".footer-wrap-form"),p=u.querySelector(".footer-form"),d=u.querySelector(".footer-textarea"),h=document.querySelector(".footer-backdrop");u.addEventListener("input",G);u.addEventListener("submit",_);h.addEventListener("click",K);window.addEventListener("keydown",function(e){e.key==="Escape"&&h.classList.add("is-hidden")});d.addEventListener("blur",function(){if(this.value.length>25){const t=this.value.slice(0,this.maxLength);this.value=t+"..."}});d.addEventListener("focus",function(){this.value.endsWith("...")&&(this.value=this.value.slice(0,-3))});Y();function Y(){const e=localStorage.getItem(L);if(e){const{email:t,message:n}=JSON.parse(e);p.value=t||"",d.value=n||""}}function K(e){const t=e.target;(t.classList.contains("footer-backdrop")||t.classList.contains("footer-close-icon"))&&h.classList.add("is-hidden")}async function _(e){try{if(e.preventDefault(),p.value===""||d.value==="")return alert("Please fill out all forms");const t={email:p.value.trim(),comment:d.value.trim()};await J({email:t.email,comment:t.comment}),localStorage.removeItem(L),u.reset(),h.classList.remove("is-hidden")}catch(t){console.log(t)}}function J(e){try{return fetch(X,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw new Error(t.status||t.statusText);return t.json()})}catch(t){console.log(t),alert("Error! Please enter the data again")}}function G(){const e=p.value.trim(),t=d.value.trim(),n={email:e,message:t};localStorage.setItem(L,JSON.stringify(n))}const Q=document.querySelectorAll(".footer-contact");Q.forEach(e=>{e.addEventListener("mousemove",t=>{const{offsetX:n,offsetY:a}=t,{offsetWidth:o,offsetHeight:s}=e,l=o/2,m=s/2,i=(n-l)/l,r=(a-m)/m,S=i*20,g=r*20;e.style.boxShadow=`${S}px ${g}px 30px rgba(166, 166, 166, 0.2)`}),e.addEventListener("mouseleave",()=>{e.style.boxShadow="none"})});
//# sourceMappingURL=commonHelpers.js.map
